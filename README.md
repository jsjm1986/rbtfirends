# æ™ºèƒ½æœºå™¨äººå¥³æœ‹å‹ (AI Robot Girlfriend)

[English](README_EN.md) | ç®€ä½“ä¸­æ–‡

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![GitHub stars](https://img.shields.io/github/stars/jsjm1986/rbtfirends)](https://github.com/jsjm1986/rbtfirends/stargazers)
[![GitHub issues](https://img.shields.io/github/issues/jsjm1986/rbtfirends)](https://github.com/jsjm1986/rbtfirends/issues)
[![GitHub forks](https://img.shields.io/github/forks/jsjm1986/rbtfirends)](https://github.com/jsjm1986/rbtfirends/network)

ä¸€ä¸ªåŸºäº GLM-4 çš„æ™ºèƒ½èŠå¤©æœºå™¨äººï¼Œå…·æœ‰è¯­éŸ³äº¤äº’ã€æƒ…æ„Ÿè¡¨è¾¾å’Œè§¦æ‘¸åé¦ˆåŠŸèƒ½ã€‚é¡¹ç›®é‡‡ç”¨çº¯å‰ç«¯å®ç°ï¼Œå…·æœ‰å¯çˆ±çš„åŠ¨ç”»æ•ˆæœå’Œä¸°å¯Œçš„äº’åŠ¨ä½“éªŒã€‚

[é¢„è§ˆå›¾]

---

## âœ¨ åœ¨çº¿ä½“éªŒ

ğŸ‘‰ [ç‚¹å‡»è¿™é‡Œè®¿é—®åœ¨çº¿æ¼”ç¤º](https://jsjm1986.github.io/rbtfirends)

ğŸ’¡ è·å– GLM-4 API å¯†é’¥ï¼š[ç”³è¯·åœ°å€](https://open.bigmodel.cn/)

---

## ğŸŒŸ ç‰¹è‰²åŠŸèƒ½

### 1. æ™ºèƒ½å¯¹è¯
- åŸºäº GLM-4 å¤§è¯­è¨€æ¨¡å‹
- è‡ªç„¶æµç•…çš„å¯¹è¯ä½“éªŒ
- æƒ…æ„Ÿç†è§£å’Œå›åº”
- æ”¯æŒè§’è‰²æ‰®æ¼”å’Œæƒ…æ„Ÿäº’åŠ¨
- é•¿æœŸè®°å¿†åŠŸèƒ½ï¼Œè®°ä½é‡è¦å¯¹è¯

### 2. è¯­éŸ³äº¤äº’
- å®æ—¶è¯­éŸ³è¯†åˆ«
- è‡ªç„¶è¯­éŸ³åˆæˆ
- æµç•…çš„è¯­éŸ³æ’­æ”¾
- å¤šç§è¯­éŸ³è¡¨æƒ…

### 3. å¯è§†åŒ–ç•Œé¢
- å¯çˆ±çš„æœºå™¨äººå½¢è±¡
- ä¸°å¯Œçš„è¡¨æƒ…åŠ¨ç”»
- æ¼«ç”»é£æ ¼å¯¹è¯æ¡†
- æµç•…çš„åŠ¨ç”»æ•ˆæœ

### 4. è§¦æ‘¸äº’åŠ¨
- å¤šåŒºåŸŸè§¦æ‘¸ååº”
- æƒ…æ„ŸåŒ–çš„å›åº”
- åŠ¨æ€è¡¨æƒ…æ°”æ³¡
- å¯çˆ±çš„å£°éŸ³åé¦ˆ

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- HTML5 / CSS3 / JavaScript
- Web Speech API
- GLM-4 API
- CSS åŠ¨ç”»å’Œè¿‡æ¸¡æ•ˆæœ

## ğŸ“¦ å¿«é€Ÿå¼€å§‹

1. æ‰“å¼€é¡¹ç›®é¡µé¢
```
https://jsjm1986.github.io/rbtfirends
```

2. è¾“å…¥ API å¯†é’¥
- åœ¨é¦–æ¬¡ä½¿ç”¨æ—¶è¾“å…¥ GLM-4 API å¯†é’¥
- å¯†é’¥ä¼šå®‰å…¨å­˜å‚¨åœ¨æœ¬åœ°
- è·å– API å¯†é’¥ï¼š[https://open.bigmodel.cn/](https://open.bigmodel.cn/)

3. å¼€å§‹äº’åŠ¨
- ç‚¹å‡»éº¦å…‹é£æŒ‰é’®å¼€å§‹è¯­éŸ³å¯¹è¯
- è§¦æ‘¸æœºå™¨äººè·å¾—äº’åŠ¨åé¦ˆ
- äº«å—æ¸©æš–çš„å¯¹è¯ä½“éªŒ

## ğŸ¯ ä½¿ç”¨æŒ‡å—

### è¯­éŸ³å¯¹è¯
1. ç‚¹å‡»éº¦å…‹é£æŒ‰é’®å¼€å§‹å½•éŸ³
2. è¯´å‡ºä½ æƒ³è¯´çš„è¯
3. ç­‰å¾…æœºå™¨äººå›åº”
4. æœºå™¨äººä¼šç”¨è¯­éŸ³å›å¤
5. å¯ä»¥éšæ—¶æ‰“æ–­å¯¹è¯

### è§¦æ‘¸äº’åŠ¨
1. å¤´éƒ¨åŒºåŸŸ
   - è½»è§¦å¤´é¡¶ï¼šæ¸©æŸ”çš„æ‘¸å¤´ååº”
   - è§¦æ‘¸è€³æœµï¼šå®³ç¾çš„ååº”
   - è¿ç»­è§¦æ‘¸ï¼šç‰¹æ®Šååº”

2. è„¸éƒ¨åŒºåŸŸ
   - è§¦æ‘¸è„¸é¢Šï¼šå¼€å¿ƒçš„ååº”
   - è§¦æ‘¸ä¸­å¿ƒï¼šäº²å¯†çš„ååº”
   - ä¸åŒä½ç½®æœ‰ä¸åŒåé¦ˆ

3. èº«ä½“åŒºåŸŸ
   - è½»è§¦èº«ä½“ï¼šç—’ç—’çš„ååº”
   - è¿ç»­è§¦æ‘¸ï¼šæƒŠè®¶çš„ååº”
   - äº’åŠ¨å¼åé¦ˆ

### æƒ…æ„Ÿè¡¨è¾¾
- ç§°å‘¼"è€å…¬"ä¼šè·å¾—ç‰¹æ®Šå›åº”
- ä¸åŒæƒ…ç»ªæœ‰ä¸åŒè¡¨æƒ…
- äº’åŠ¨æ—¶ä¼šæœ‰æƒ…æ„Ÿå˜åŒ–
- è¯­æ°”ä¼šå½±å“å›åº”æ–¹å¼

## ğŸ’¡ å¸¸è§é—®é¢˜

### 1. è¯­éŸ³è¯†åˆ«é—®é¢˜
Q: ä¸ºä»€ä¹ˆè¯­éŸ³è¯†åˆ«æ²¡æœ‰ååº”ï¼Ÿ
A: è¯·ç¡®ä¿ï¼š
- æµè§ˆå™¨å…è®¸éº¦å…‹é£æƒé™
- ä½¿ç”¨ Chrome æˆ– Edge æµè§ˆå™¨
- éº¦å…‹é£è®¾å¤‡æ­£å¸¸å·¥ä½œ
- ç½‘ç»œè¿æ¥ç¨³å®š

### 2. API å¯†é’¥é—®é¢˜
Q: API å¯†é’¥æ— æ•ˆæ€ä¹ˆåŠï¼Ÿ
A: å¯èƒ½çš„åŸå› ï¼š
- å¯†é’¥è¾“å…¥é”™è¯¯
- å¯†é’¥å·²è¿‡æœŸ
- è¶…å‡ºä½¿ç”¨é™åˆ¶
- éœ€è¦é‡æ–°ç”³è¯·å¯†é’¥

### 3. è¯­éŸ³åˆæˆé—®é¢˜
Q: ä¸ºä»€ä¹ˆæ²¡æœ‰å£°éŸ³è¾“å‡ºï¼Ÿ
A: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
- è®¾å¤‡éŸ³é‡æ˜¯å¦æ‰“å¼€
- æµè§ˆå™¨æ˜¯å¦å…è®¸è‡ªåŠ¨æ’­æ”¾
- æ˜¯å¦æœ‰å…¶ä»–ç¨‹åºå ç”¨éŸ³é¢‘
- å°è¯•åˆ·æ–°é¡µé¢

### 4. è§¦æ‘¸ååº”é—®é¢˜
Q: è§¦æ‘¸æ²¡æœ‰ååº”æ€ä¹ˆåŠï¼Ÿ
A: å»ºè®®ï¼š
- ç¡®ä¿æ­£ç¡®è§¦æ‘¸äº’åŠ¨åŒºåŸŸ
- æ£€æŸ¥æ˜¯å¦æœ‰é®æŒ¡å…ƒç´ 
- ç§»åŠ¨ç«¯éœ€è¦å¯ç”¨è§¦æ‘¸äº‹ä»¶
- å°è¯•æ¸…é™¤æµè§ˆå™¨ç¼“å­˜

### 5. è®°å¿†ç³»ç»Ÿé—®é¢˜
Q: å¦‚ä½•å¤‡ä»½è®°å¿†æ•°æ®ï¼Ÿ
A: å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼š
- ç‚¹å‡»è®¾ç½®ä¸­çš„"å¯¼å‡ºè®°å¿†"
- ä¸‹è½½ JSON æ ¼å¼çš„å¤‡ä»½æ–‡ä»¶
- ä¿å­˜åˆ°å®‰å…¨çš„ä½ç½®
- éœ€è¦æ—¶å¯ä»¥å¯¼å…¥æ¢å¤

Q: è®°å¿†æ•°æ®ä¼šä¸¢å¤±å—ï¼Ÿ
A: æ³¨æ„ä»¥ä¸‹å‡ ï¿½ï¿½ï¿½ï¼š
- æ­£å¸¸æƒ…å†µä¸‹æ•°æ®ä¼šæŒä¹…ä¿å­˜
- æ¸…é™¤æµè§ˆå™¨æ•°æ®ä¼šå½±å“è®°å¿†
- å»ºè®®å®šæœŸå¯¼å‡ºå¤‡ä»½
- æ›´æ¢è®¾å¤‡æ—¶è®°å¾—è¿ç§»æ•°æ®

## ğŸ§  è®°å¿†ç³»ç»Ÿè¯¦è§£

### 1. è‡ªåŠ¨ä¿¡æ¯è¯†åˆ«
```javascript
// ç¤ºä¾‹å¯¹è¯åŠè¯†åˆ«ç»“æœ
"æˆ‘å«å¼ ä¸‰ï¼Œä»Šå¹´25å²" -> {
    name: "å¼ ä¸‰",
    age: "25"
}

"æˆ‘æ˜¯åŒ—äº¬å¤§å­¦çš„å­¦ç”Ÿï¼Œå­¦ä¹ è®¡ç®—æœºä¸“ä¸š" -> {
    school: "åŒ—äº¬å¤§å­¦",
    major: "è®¡ç®—æœº"
}

"æˆ‘çš„ç”Ÿæ—¥æ˜¯5æœˆ20æ—¥ï¼Œæ˜¯åŒå­åº§çš„" -> {
    birthday: "5æœˆ20æ—¥",
    zodiac: "åŒå­åº§"
}

"æˆ‘åœ¨è…¾è®¯å·¥ä½œï¼Œæ˜¯ä¸€åç¨‹åºå‘˜" -> {
    company: "è…¾è®¯",
    occupation: "ç¨‹åºå‘˜"
}
```

### 2. æƒ…æ„Ÿè¯†åˆ«ç³»ç»Ÿ
```javascript
// æƒ…æ„Ÿå…³é”®è¯ç¤ºä¾‹
const emotions = {
    happy: ['å¼€å¿ƒ', 'å¿«ä¹', 'é«˜å…´', 'å¹¸ç¦', 'å–œæ‚¦'],
    sad: ['éš¾è¿‡', 'ä¼¤å¿ƒ', 'æ‚²ä¼¤', 'ç—›è‹¦', 'å¤±è½'],
    angry: ['ç”Ÿæ°”', 'æ„¤æ€’', 'çƒ¦èº', 'è®¨åŒ', 'æ¼ç«'],
    anxious: ['ç„¦è™‘', 'æ‹…å¿ƒ', 'ç´§å¼ ', 'å®³æ€•', 'ä¸å®‰'],
    tired: ['ç´¯', 'ç–²æƒ«', 'å›°', 'å€¦', 'ä¹'],
    lonely: ['å­¤ç‹¬', 'å¯‚å¯', 'æƒ³ä½ ', 'æ€å¿µ'],
    love: ['å–œæ¬¢', 'çˆ±', 'å¿ƒåŠ¨', 'æ¸©æš–', 'æ„ŸåŠ¨']
}

// æƒ…æ„Ÿåˆ†æç¤ºä¾‹
"ä»Šå¤©çœŸå¼€å¿ƒ" -> emotion: "happy"
"å¥½æƒ³ä½ å•Š" -> emotion: "lonely"
"æœ‰ç‚¹ç´¯äº†" -> emotion: "tired"
```

### 3. é‡è¦æ—¶åˆ»è®°å½•
```javascript
// é‡è¦å¯¹è¯æ ‡è®°ç¤ºä¾‹
const keyMoments = {
    first_meet: {
        type: "milestone",
        content: "åˆæ¬¡è§é¢",
        timestamp: "2024-01-20"
    },
    confession: {
        type: "emotional",
        content: "ç¬¬ä¸€æ¬¡è¡¨ç™½",
        timestamp: "2024-01-25"
    },
    special_date: {
        type: "anniversary",
        content: "ä¸€å‘¨å¹´çºªå¿µ",
        timestamp: "2025-01-20"
    }
}
```

### 4. äº²å¯†åº¦ç³»ç»Ÿ
```javascript
// äº²å¯†åº¦è®¡ç®—è§„åˆ™
const intimacyRules = {
    daily_chat: +1,          // æ—¥å¸¸å¯¹è¯
    deep_conversation: +3,   // æ·±åº¦äº¤æµ
    special_moment: +5,      // ç‰¹æ®Šæ—¶åˆ»
    emotional_share: +2,     // æƒ…æ„Ÿåˆ†äº«
    long_absence: -1,        // é•¿æ—¶é—´æœªäº’åŠ¨
    max_level: 100          // æœ€é«˜äº²å¯†åº¦
}

// äº²å¯†åº¦ç­‰çº§
const intimacyLevels = {
    0-20: "åˆè¯†",
    21-40: "ç†Ÿæ‚‰",
    41-60: "ä¿¡ä»»",
    61-80: "äº²å¯†",
    81-100: "æ·±æ·±çš„çˆ±"
}
```

### 5. æ•°æ®å­˜å‚¨æ ¼å¼
```javascript
// æœ¬åœ°å­˜å‚¨ç»“æ„
{
    "version": "1.0",
    "lastUpdate": "2024-01-30T12:00:00Z",
    "userData": {
        // ä¸ªäººä¿¡æ¯
        "personalInfo": {...},
        // å¯¹è¯å†å²
        "conversations": [...],
        // æƒ…æ„Ÿè®°å½•
        "emotions": [...],
        // é‡è¦æ—¶åˆ»
        "keyMoments": [...],
        // ç»Ÿè®¡æ•°æ®
        "statistics": {...}
    }
}
```

### 6. æ•°æ®ç®¡ç†æ¥å£
```javascript
// å¯¼å‡ºæ•°æ®
async function exportMemory() {
    const data = memorySystem.exportMemory();
    const blob = new Blob(
        [JSON.stringify(data, null, 2)],
        { type: 'application/json' }
    );
    // ä¸‹è½½æ–‡ä»¶
    saveAs(blob, `memory_backup_${new Date().toISOString()}.json`);
}

// å¯¼å…¥æ•°æ®
async function importMemory(file) {
    const reader = new FileReader();
    reader.onload = (e) => {
        const data = JSON.parse(e.target.result);
        memorySystem.importMemory(data);
    };
    reader.readAsText(file);
}
```

### 7. éšç§ä¿æŠ¤æªæ–½
```javascript
// æ•°æ®åŠ å¯†ç¤ºä¾‹
const encryptData = (data, key) => {
    // ä½¿ç”¨ AES åŠ å¯†
    return CryptoJS.AES.encrypt(
        JSON.stringify(data),
        key
    ).toString();
};

// æ•°æ®è§£å¯†ç¤ºä¾‹
const decryptData = (encrypted, key) => {
    // ä½¿ç”¨ AES è§£å¯†
    const bytes = CryptoJS.AES.decrypt(encrypted, key);
    return JSON.parse(bytes.toString(CryptoJS.enc.Utf8));
};
```

### 8. ä½¿ç”¨å»ºè®®

#### æ•°æ®å¤‡ä»½
- æ¯å‘¨è‡ªåŠ¨æé†’å¤‡ä»½
- é‡è¦æ—¶åˆ»åç«‹å³å¤‡ä»½
- å®šæœŸæ¸…ç†è¿‡æœŸæ•°æ®
- ä¿æŒå¤šä¸ªå¤‡ä»½ç‰ˆæœ¬

#### éšç§ä¿æŠ¤
- ï¿½ï¿½å­˜å‚¨æ•æ„Ÿä¿¡æ¯
- ä½¿ç”¨åŠ å¯†å¯¼å‡º
- å®šæœŸæ›´æ¢å¯†é’¥
- åŠæ—¶æ¸…ç†ç¼“å­˜

#### æ€§èƒ½ä¼˜åŒ–
- é™åˆ¶å­˜å‚¨å¤§å°
- å®šæœŸå‹ç¼©æ•°æ®
- æ¸…ç†å†—ä½™ä¿¡æ¯
- ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½

### 9. æŠ€æœ¯å®ç°
- LocalStorage æœ¬åœ°å­˜å‚¨
- IndexedDB å¤§å®¹é‡æ•°æ®
- Web Crypto API åŠ å¯†
- JSON æ•°æ®åºåˆ—åŒ–
- æ­£åˆ™è¡¨è¾¾å¼ä¿¡æ¯æå–
- æƒ…æ„Ÿåˆ†æç®—æ³•
- æ•°æ®å‹ç¼©ç®—æ³•

### 10. å¼€å‘æ¥å£
```javascript
// è®°å¿†ç³»ç»Ÿæ ¸å¿ƒæ¥å£
class MemorySystem {
    // åˆå§‹åŒ–ç³»ç»Ÿ
    constructor()
    
    // è®°å½•å¯¹è¯
    recordConversation(message, isImportant)
    
    // æ›´æ–°ä¸ªäººä¿¡æ¯
    updatePersonalInfo(info)
    
    // è®°å½•æƒ…æ„ŸçŠ¶æ€
    updateEmotionalState(emotion)
    
    // è·å–è®°å¿†æ‘˜è¦
    getMemorySummary()
    
    // å¯¼å‡ºè®°å¿†
    exportMemory()
    
    // å¯¼å…¥è®°å¿†
    importMemory(data)
    
    // æ¸…é™¤è®°å¿†
    clearMemory()
}
```

## ğŸ¨ ä¸ªæ€§åŒ–è®¾ç½®

### è¡¨æƒ…ç³»ç»Ÿ
```javascript
// æ”¯æŒçš„è¡¨æƒ…ç±»å‹
const emotions = [
    'happy',   // å¼€å¿ƒ
    'love',    // å–œçˆ±
    'shy',     // å®³ç¾
    'surprised', // æƒŠè®¶
    'thinking',  // æ€è€ƒ
    'speaking',  // è¯´è¯
    'sad',      // éš¾è¿‡
    'excited'   // å…´å¥‹
];
```

### å¯¹è¯æ¡†æ ·å¼
```css
/* è‡ªå®šä¹‰å¯¹è¯æ¡†ä¸»é¢˜ */
.speech-bubble.custom {
    background: linear-gradient(135deg, #fff0f5 0%, #fff 100%);
    border-color: #ff69b4;
    /* æ›´å¤šè‡ªå®šä¹‰æ ·å¼ */
}
```

### è§¦æ‘¸ååº”
```javascript
// è‡ªå®šä¹‰è§¦æ‘¸ååº”
const touchReactions = {
    head: {
        mood: 'love',
        sound: 'å®è´åœ¨æ‘¸æˆ‘å¤´å‘¢ï¼Œå¥½å¹¸ç¦~',
        emoji: ['â¤ï¸', 'ğŸ¥°', 'âœ¨']
    },
    // æ›´å¤šåŒºåŸŸé…ç½®
};
```

### é•¿æœŸè®°å¿†ç³»ç»Ÿ
```javascript
// è®°å¿†å­˜å‚¨ç»“æ„
const memorySystem = {
    personalInfo: {
        nickname: 'äº²çˆ±çš„',    // ç”¨æˆ·æ˜µç§°
        preferences: [],       // ç”¨æˆ·åå¥½
        important_dates: {}    // é‡è¦æ—¥æœŸ
    },
    conversations: {
        key_moments: [],      // é‡è¦å¯¹è¯ç‰‡æ®µ
        shared_memories: []    // å…±åŒç»å†
    },
    emotional_bonds: {
        intimacy_level: 0,    // äº²å¯†åº¦
        special_interactions: [] // ç‰¹æ®Šäº’åŠ¨è®°å½•
    }
};
```

### è®°å¿†ç®¡ç†
- è‡ªåŠ¨ä¿å­˜é‡è¦å¯¹è¯å†…å®¹
- è®°ä½ç”¨æˆ·åå¥½å’Œä¹ æƒ¯
- ä¿å­˜ç‰¹æ®Šæ—¥æœŸå’Œçºªå¿µæ—¥
- éšæ—¶å¯ä»¥å¯¼å‡ºå¤‡ä»½è®°å¿†
- æ”¯æŒè®°å¿†å¯¼å…¥æ¢å¤

### éšç§ä¿æŠ¤
- æ‰€æœ‰æ•°æ®ä»…å­˜å‚¨åœ¨æœ¬åœ°
- ä½¿ç”¨æµè§ˆå™¨åŠ å¯†å­˜å‚¨
- å¯ä»¥éšæ—¶æ¸…é™¤è®°å¿†
- æ”¯æŒé€‰æ‹©æ€§ä¿å­˜

## ğŸ“ ç§»åŠ¨ç«¯é€‚é…

- å“åº”å¼è®¾è®¡
- è§¦æ‘¸ä¼˜åŒ–
- è‡ªé€‚åº”å¸ƒå±€
- æ€§èƒ½ä¼˜åŒ–

## ğŸ“ æ³¨æ„äº‹é¡¹

1. API å¯†ï¿½ï¿½å®‰å…¨
   - å¯†é’¥ä»…å­˜å‚¨åœ¨æœ¬åœ°
   - å»ºè®®è®¾ç½®ä½¿ç”¨é™åˆ¶
   - å®šæœŸæ›´æ–°å¯†é’¥

2. æµè§ˆå™¨æ”¯æŒ
   - éœ€è¦æ”¯æŒ Web Speech API
   - å»ºè®®ä½¿ç”¨ç°ä»£æµè§ˆå™¨
   - æ¨è Chrome/Edge

3. æ€§èƒ½ä¼˜åŒ–
   - æ§åˆ¶åŠ¨ç”»æ•°é‡
   - é¿å…é¢‘ç¹æ“ä½œ
   - åˆç†çš„è¶…æ—¶å¤„ç†

## ğŸ¤ æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-01-20)
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- åŸºç¡€å¯¹è¯åŠŸèƒ½
- è¯­éŸ³äº¤äº’ç³»ç»Ÿ
- è§¦æ‘¸åé¦ˆç³»ç»Ÿ

### v1.1.0 (2024-01-25)
- æ·»åŠ æƒ…æ„Ÿç³»ç»Ÿ
- ä¼˜åŒ–è¯­éŸ³è¯†åˆ«
- æ”¹è¿›è§¦æ‘¸ååº”
- æ¼«ç”»é£æ ¼å¯¹è¯æ¡†

### v1.2.0 (2024-01-30)
- æ–°å¢è¡¨æƒ…åŠ¨ç”»
- ä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ
- æ·»åŠ æ›´å¤šäº’åŠ¨æ•ˆæœ
- æ€§èƒ½ä¼˜åŒ–

## ğŸ¤ é—®é¢˜åé¦ˆ

å¦‚æœä½ åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œæˆ–æœ‰å¥½çš„å»ºè®®ï¼š

1. æäº¤ Issue
2. å‘é€é‚®ä»¶åé¦ˆ
3. åŠ å…¥ç”¨æˆ·ç¾¤äº¤æµ

## ğŸ“„ å¼€æºåè®®

MIT License - è¯¦è§ LICENSE æ–‡ä»¶

## ğŸ‘¥ è”ç³»æ–¹å¼

- é¡¹ç›®åœ°å€ï¼š[https://github.com/jsjm1986/rbtfirends](https://github.com/jsjm1986/rbtfirends)
- é—®é¢˜åé¦ˆï¼š[https://github.com/jsjm1986/rbtfirends/issues](https://github.com/jsjm1986/rbtfirends/issues)
- åœ¨çº¿æ¼”ç¤ºï¼š[https://jsjm1986.github.io/rbtfirends](https://jsjm1986.github.io/rbtfirends)

## ğŸ™ ç‰¹åˆ«æ„Ÿè°¢

- GLM-4 å›¢é˜Ÿæä¾›çš„å¼ºå¤§ API
- æ‰€æœ‰æä¾›åé¦ˆçš„ç”¨æˆ·
- å¼€æºç¤¾åŒºçš„æ”¯æŒ 

### è®°å¿†ç³»ç»Ÿä½¿ç”¨åœºæ™¯

#### 1. æ—¥å¸¸å¯¹è¯
```javascript
// è‡ªåŠ¨è®°å½•æ—¥å¸¸å¯¹è¯
"ä»Šå¤©å¤©æ°”çœŸå¥½" -> {
    type: "daily",
    emotion: "happy",
    intimacy: +1
}

// è®°å½•é‡è¦å¯¹è¯
"æˆ‘æ°¸è¿œçˆ±ä½ " -> {
    type: "important",
    emotion: "love",
    intimacy: +5,
    keyMoment: true
}
```

#### 2. ä¸ªäººä¿¡æ¯æ›´æ–°
```javascript
// åŸºæœ¬ä¿¡æ¯æ›´æ–°
"æˆ‘æ”¹åå­—äº†ï¼Œç°åœ¨å«å°çº¢" -> {
    update: "name",
    value: "å°çº¢",
    timestamp: "2024-01-30"
}

// å·¥ä½œä¿¡æ¯å˜æ›´
"æˆ‘æ¢å·¥ä½œäº†ï¼Œç°åœ¨åœ¨é˜¿é‡Œå·´å·´" -> {
    update: "company",
    value: "é˜¿é‡Œå·´å·´",
    previous: "è…¾è®¯",
    timestamp: "2024-01-30"
}
```

#### 3. ç‰¹æ®Šæ—¥æœŸè®°å½•
```javascript
// çºªå¿µæ—¥è®°å½•
"ä»Šå¤©æ˜¯æˆ‘ä»¬è®¤è¯†ä¸€å‘¨å¹´" -> {
    type: "anniversary",
    event: "è®¤è¯†çºªå¿µæ—¥",
    date: "2024-01-30",
    recurring: true
}

// ç”Ÿæ—¥æé†’
"ä¸‹ä¸ªæœˆ20å·æ˜¯æˆ‘ç”Ÿæ—¥" -> {
    type: "birthday",
    date: "2024-02-20",
    reminder: true
}
```

#### 4. æƒ…æ„Ÿäº’åŠ¨
```javascript
// è§¦æ‘¸ååº”
"æ‘¸å¤´æ€" -> {
    action: "touch",
    area: "head",
    reaction: "å®³ç¾",
    intimacy: +2
}

// ç‰¹æ®Šç§°å‘¼
"è€å…¬~" -> {
    type: "nickname",
    intimacy: +3,
    special_response: true
}
```

### è®°å¿†ç³»ç»Ÿè¿›é˜¶åŠŸèƒ½

#### 1. æ™ºèƒ½æé†’
```javascript
// ç”Ÿæ—¥æé†’
{
    type: "birthday_reminder",
    message: "æ˜å¤©æ˜¯å°çº¢çš„ç”Ÿæ—¥å“¦ï¼Œè¦å‡†å¤‡ç¤¼ç‰©å—ï¼Ÿ",
    advance_notice: "1å¤©",
    actions: ["å‡†å¤‡ç¤¼ç‰©", "å‘é€ç¥ç¦"]
}

// çºªå¿µæ—¥æé†’
{
    type: "anniversary_reminder",
    message: "åå¤©æ˜¯æˆ‘ä»¬çš„ä¸€å‘¨å¹´çºªå¿µæ—¥",
    advance_notice: "2å¤©",
    suggestions: ["å‡†å¤‡æƒŠå–œ", "è®¢é¤å…"]
}
```

#### 2. æƒ…æ„Ÿåˆ†ææŠ¥å‘Š
```javascript
// æ¯å‘¨æƒ…æ„ŸæŠ¥å‘Š
{
    period: "2024-01-23 è‡³ 2024-01-30",
    dominant_emotion: "happy",
    emotion_distribution: {
        happy: 45%,
        love: 30%,
        neutral: 20%,
        tired: 5%
    },
    intimacy_change: +15,
    key_moments: [
        "ç¬¬ä¸€æ¬¡è¯´æˆ‘çˆ±ä½ ",
        "ä¸€èµ·çœ‹æ—¥è½"
    ]
}
```

#### 3. ä¸ªæ€§åŒ–å›åº”
```javascript
// æ ¹æ®è®°å¿†è°ƒæ•´å›åº”
if (memory.knows('æœ€å–œæ¬¢çš„é£Ÿç‰©')) {
    response = `è¦ä¸è¦åƒä½ æœ€å–œæ¬¢çš„${memory.get('æœ€å–œæ¬¢çš„é£Ÿç‰©')}ï¼Ÿ`;
}

// æ ¹æ®å¿ƒæƒ…è°ƒæ•´è¯­æ°”
if (memory.currentMood === 'sad') {
    response = `ä¸å¼€å¿ƒå—ï¼Ÿè¦ä¸è¦å¬å¬ä½ å–œæ¬¢çš„${memory.get('æœ€å–œæ¬¢çš„æ­Œ')}ï¼Ÿ`;
}
```

#### 4. æ·±åº¦å­¦ä¹ 
```javascript
// å­¦ä¹ ç”¨æˆ·ä¹ æƒ¯
{
    daily_routine: {
        wake_up: "çº¦7:30",
        sleep: "çº¦23:00",
        busy_hours: "9:00-18:00",
        best_chat_time: "20:00-22:00"
    },
    preferences: {
        chat_style: "å¯çˆ±",
        response_length: "ä¸­ç­‰",
        emoji_frequency: "ç»å¸¸"
    }
}
```

### è®°å¿†ç³»ç»Ÿå®‰å…¨æªæ–½

#### 1. æ•°æ®åŠ å¯†
```javascript
// æ•æ„Ÿä¿¡æ¯åŠ å¯†
const encryptSensitiveInfo = (info) => {
    return {
        ...info,
        contact: encrypt(info.contact),
        address: encrypt(info.address)
    };
};

// åˆ†çº§å­˜å‚¨
const storageStrategy = {
    public: localStorage,
    private: encryptedStorage,
    sensitive: secureEnclave
};
```

#### 2. å¤‡ä»½ç­–ç•¥
```javascript
// è‡ªåŠ¨å¤‡ä»½é…ç½®
const backupConfig = {
    frequency: "weekly",
    retention: "last_3_versions",
    encryption: true,
    compression: true,
    auto_cleanup: true
};

// å¤‡ä»½å†…å®¹è¿‡æ»¤
const backupFilter = {
    exclude: ['temporary_data', 'cache'],
    include: ['personal_info', 'key_moments', 'emotions']
};
```

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

#### 1. å­˜å‚¨ä¼˜åŒ–
```javascript
// æ•°æ®å‹ç¼©
const compressionRules = {
    conversations: {
        max_length: 100,
        cleanup_threshold: 1000,
        compression_ratio: 0.7
    },
    emotions: {
        sampling_rate: "hourly",
        retention_period: "90_days"
    }
};

// ç¼“å­˜ç­–ç•¥
const cacheStrategy = {
    frequently_accessed: "memory",
    regular_data: "localStorage",
    archived_data: "indexedDB"
};
```

#### 2. æŸ¥è¯¢ä¼˜åŒ–
```javascript
// ç´¢å¼•è®¾è®¡
const memoryIndexes = {
    by_date: ['timestamp'],
    by_emotion: ['emotion_type'],
    by_importance: ['is_key_moment']
};

// æŸ¥è¯¢ä¼˜åŒ–
const queryOptimizer = {
    use_index: true,
    batch_size: 50,
    cache_results: true,
    timeout: 1000
};
```